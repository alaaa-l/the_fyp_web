<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpportuGrow - Fund Dreams, Grow Opportunities</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <style>
        /* Custom Styles */
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #2ecc71;
            --light: #ecf0f1;
            --dark: #1a252f;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            padding-top: 76px; /* لتعويض الـ navbar الثابت */
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--dark) 100%);
            color: white;
            padding: 100px 0;
            margin-bottom: 60px;
            border-radius: 0 0 30px 30px;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 40px;
        }

        /* Stats Cards */
        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s;
            border: none;
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .stat-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 28px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }

        /* How It Works */
        .how-it-works {
            background: white;
            padding: 80px 0;
            border-radius: 30px;
            margin: 60px 0;
        }

        .step {
            text-align: center;
            padding: 30px;
        }

        .step-number {
            width: 50px;
            height: 50px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            margin: 0 auto 20px;
        }

        /* Project Cards */
        .project-card {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
            height: 100%;
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .project-image {
            height: 200px;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 40px;
        }

        .project-category {
            display: inline-block;
            background: var(--light);
            color: var(--primary);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 8px;
            background-color: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
        }

        /* Footer */
        .footer {
            background: var(--dark);
            color: white;
            padding: 60px 0 30px;
            margin-top: 80px;
        }

        .footer a {
            color: #bbb;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer a:hover {
            color: white;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .hero {
                padding: 60px 0;
            }

            body {
                padding-top: 70px;
            }
        }
    </style>
</head>
<body>
<!-- Navigation Bar -->
<div th:replace="~{fragments/navbar :: navbar}"></div>
<div th:if="${message}" class="alert alert-success" role="alert">
    <span th:text="${message}"></span>
</div>
<div th:if="${param.logout}"
     class="alert alert-success alert-dismissible fade show text-center"
     role="alert">
    <i class="fas fa-check-circle me-2"></i>
    You have been logged out successfully.
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>

<!-- Hero Section -->
<section class="hero text-center">
    <div class="container">
        <h1 class="display-4 fw-bold">Fund Dreams, Grow Opportunities</h1>
        <p class="lead mb-4">Connect visionary project creators with investors and donors who want to make a real impact.</p>
        <div class="d-flex flex-wrap justify-content-center gap-3">
            <a th:href="@{/projects}" class="btn btn-light btn-lg px-4 py-3 fw-bold">
                <i class="fas fa-search me-2"></i> Browse Projects
            </a>
            <a th:href="@{/create-project/choose-type}" class="btn btn-outline-light btn-lg px-4 py-3 fw-bold" sec:authorize="isAuthenticated()">
                <i class="fas fa-plus me-2"></i> Start a Project
            </a>
            <a th:href="@{/register}" class="btn btn-success btn-lg px-4 py-3 fw-bold" sec:authorize="isAnonymous()">
                <i class="fas fa-user-plus me-2"></i> Get Started Free
            </a>
        </div>
    </div>
</section>

<!-- Statistics -->
<section class="container">
    <div class="row g-4">
        <div class="col-md-3 col-6">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-project-diagram"></i>
                </div>
                <div class="stat-number" th:text="${totalProjects}">125</div>
                <p class="text-muted">Projects Funded</p>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <div class="stat-number" th:text="${totalFunded}">$450K</div>
                <p class="text-muted">Total Raised</p>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-number" th:text="${happyInvestors}">1,250</div>
                <p class="text-muted">Active Investors</p>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="stat-number" th:text="${successRate}">89%</div>
                <p class="text-muted">Success Rate</p>
            </div>
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="how-it-works">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold">How OpportuGrow Works</h2>
        <div class="row g-4">
            <div class="col-md-3">
                <div class="step">
                    <div class="step-number">1</div>
                    <h5>Create Project</h5>
                    <p class="text-muted">Share your idea and set funding goal</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step">
                    <div class="step-number">2</div>
                    <h5>Get Verified</h5>
                    <p class="text-muted">Our team reviews your project</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step">
                    <div class="step-number">3</div>
                    <h5>Raise Funds</h5>
                    <p class="text-muted">Investors fund your project</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="step">
                    <div class="step-number">4</div>
                    <h5>Make Impact</h5>
                    <p class="text-muted">Execute project and share updates</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Projects -->
<section class="container mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold">Featured Projects</h2>
        <a th:href="@{/projects}" class="btn btn-outline-primary">
            View All <i class="fas fa-arrow-right ms-2"></i>
        </a>
    </div>

    <div class="row g-4">
        <!-- Project 1 -->
        <div class="col-md-4" th:each="project : ${featuredProjects}">
            <div class="project-card">
                <div class="project-image">
                    <i class="fas fa-seedling"></i>
                </div>
                <div class="card-body p-4">
                    <span class="project-category" th:text="${project.category}">Business</span>
                    <h5 class="card-title fw-bold" th:text="${project.title}">Organic Farm Expansion</h5>
                    <p class="card-text text-muted" th:text="${project.shortDescription}">Help expand organic vegetable production...</p>

                    <div class="mt-4">
                        <div class="d-flex justify-content-between mb-2">
                            <span th:text="'$' + ${project.amountRaised}">$15,000</span>
                            <span th:text="${project.percentageFunded} + '%'">75%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" th:style="'width: ' + ${project.percentageFunded} + '%'"></div>
                        </div>
                    </div>

                    <div class="mt-4 d-flex justify-content-between align-items-center">
                        <div>
                            <i class="fas fa-clock text-muted me-1"></i>
                            <small class="text-muted" th:text="${project.daysLeft} + ' days left'">15 days left</small>
                        </div>
                        <a th:href="@{'/projects/' + ${project.id}}" class="btn btn-sm btn-primary">
                            View Details
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add more project cards here -->
    </div>
</section>

<!-- Categories -->
<section class="container mb-5">
    <h2 class="text-center mb-5 fw-bold">Browse by Category</h2>
    <div class="row g-3">
        <div class="col-md-2 col-4" th:each="category : ${categories}">
            <a th:href="@{'/projects?category=' + ${category.name}}" class="text-decoration-none">
                <div class="text-center p-3 bg-white rounded-3 shadow-sm">
                    <i th:class="${category.icon} + ' fa-2x text-primary mb-2'"></i>
                    <div class="fw-medium" th:text="${category.displayName}">Business</div>
                </div>
            </a>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="container text-center mb-5">
    <div class="bg-primary text-white rounded-4 p-5">
        <h2 class="fw-bold mb-4">Ready to Make a Difference?</h2>
        <p class="mb-4 opacity-90">Join thousands of investors and project creators who are changing lives.</p>
        <div class="d-flex flex-wrap justify-content-center gap-3">
            <a th:href="@{/register}" class="btn btn-light btn-lg px-4 py-3 fw-bold">
                <i class="fas fa-rocket me-2"></i> Start Free
            </a>
            <a th:href="@{/projects}" class="btn btn-outline-light btn-lg px-4 py-3 fw-bold">
                <i class="fas fa-search me-2"></i> Browse Projects
            </a>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-4">
                <h5 class="fw-bold mb-3">
                    <i class="fas fa-seedling me-2 text-success"></i> OpportuGrow
                </h5>
                <p class="text-light opacity-75">Connecting dreams with opportunities through funding and support.</p>
            </div>
            <div class="col-md-2 col-6 mb-4">
                <h6 class="fw-bold mb-3">Platform</h6>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#">How It Works</a></li>
                    <li class="mb-2"><a th:href="@{/projects}">Browse Projects</a></li>
                    <li class="mb-2"><a href="#">Success Stories</a></li>
                    <li class="mb-2"><a href="#">Categories</a></li>
                </ul>
            </div>
            <div class="col-md-2 col-6 mb-4">
                <h6 class="fw-bold mb-3">Company</h6>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#">About Us</a></li>
                    <li class="mb-2"><a href="#">Careers</a></li>
                    <li class="mb-2"><a href="#">Press</a></li>
                    <li class="mb-2"><a href="#">Contact</a></li>
                </ul>
            </div>
            <div class="col-md-4 mb-4">
                <h6 class="fw-bold mb-3">Stay Connected</h6>
                <div class="d-flex gap-3 mb-3">
                    <a href="#" class="text-white fs-5"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="text-white fs-5"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-white fs-5"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="text-white fs-5"><i class="fab fa-instagram"></i></a>
                </div>
                <p class="text-light opacity-75 small">© 2024 OpportuGrow. All rights reserved.</p>
            </div>
        </div>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Font Awesome -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
</body>
</html>

